{
  "model": {
    "vocab_size": 6397,
    "embedding_dim": 384,
    "num_layers": 6,
    "num_heads": 6,
    "hidden_dim": 1536,
    "max_seq_length": 256,
    "dropout": 0.1,
    "use_bias": true,
    "tie_weights": true
  },
  "training": {
    "batch_size": 4,
    "learning_rate": 0.0002,
    "weight_decay": 0.01,
    "num_epochs": 5,
    "warmup_steps": 1000,
    "gradient_clip_norm": 1.0,
    "save_every": 500,
    "num_workers": 4,
    "pin_memory": true,
    "prefetch_factor": 2,
    "use_mixed_precision": true,
    "log_every": 10,
    "eval_every": 500
  },
  "tokenizer": {
    "vocab_size": 16000,
    "model_type": "bpe",
    "character_coverage": 0.9995,
    "input_sentence_size": 10000000,
    "shuffle_input_sentence": true,
    "normalization_rule_name": "nmt_nfkc_cf",
    "remove_extra_whitespaces": true,
    "add_dummy_prefix": true,
    "eos_id": 1,
    "unk_id": 0,
    "bos_id": 2,
    "pad_id": 3,
    "training": {
      "trainer_type": "huggingface",
      "preset": "default",
      "custom_config": {},
      "validation": {
        "enabled": true,
        "sample_texts": [
          "This is a test sentence for tokenizer validation.",
          "Another example with numbers: 123 and symbols: @#$%"
        ]
      },
      "sentencepiece": {
        "enabled": false,
        "model_prefix": "tokenizer",
        "user_defined_symbols": [],
        "control_symbols": [],
        "byte_fallback": true
      }
    }
  },
  "preprocessing": {
    "max_samples": 1000,
    "min_length": 10,
    "max_length": 10000,
    "remove_duplicates": true,
    "normalize_whitespace": true,
    "remove_empty_lines": true,
    "encoding": "utf-8",
    "chunk_size": 1000000,
    "supported_formats": [
      "txt",
      "pdf",
      "docx",
      "pptx",
      "md",
      "html",
      "epub"
    ],
    "advanced_cleaning": {
      "enabled": true,
      "modules": {
        "boilerplate_removal": {
          "enabled": true,
          "custom_patterns": [
            "(copyright|all rights reserved|quiz|correct answer|\u00c2\u00a9)",
            "\\b[a-d]\\.\\s*){2,}"
          ],
          "remove_headers": true,
          "remove_footers": true,
          "min_line_length": 10
        },
        "language_filtering": {
          "enabled": true,
          "target_languages": [
            "en"
          ],
          "confidence_threshold": 0.8,
          "detection_method": "fasttext",
          "fallback_enabled": true
        },
        "domain_filtering": {
          "enabled": true,
          "method": "keyword",
          "threshold": 0.85,
          "cybersecurity_keywords": [
            "firewall",
            "malware",
            "vulnerability",
            "encryption",
            "security",
            "attack",
            "threat",
            "exploit",
            "penetration",
            "authentication",
            "authorization",
            "cryptography",
            "phishing",
            "ransomware",
            "botnet",
            "intrusion",
            "detection",
            "prevention",
            "antivirus",
            "forensics"
          ]
        },
        "quality_assessment": {
          "enabled": true,
          "grammar_tool": "languagetool",
          "min_quality_score": 0.6,
          "check_completeness": true,
          "min_sentence_length": 5,
          "max_typo_ratio": 0.1,
          "min_entropy": 3.0
        },
        "entity_preservation": {
          "enabled": true,
          "entity_types": [
            "CVE",
            "PROTOCOL",
            "TOOL",
            "VULNERABILITY",
            "MALWARE",
            "HASH"
          ],
          "ner_model": "en_core_web_sm",
          "confidence_threshold": 0.7,
          "custom_patterns": {}
        },
        "repetition_handling": {
          "enabled": true,
          "max_word_repetitions": 3,
          "ngram_frequency_cap": 5,
          "adaptive_penalty": true,
          "similarity_threshold": 0.9,
          "min_ngram_length": 3
        }
      },
      "processing_order": [
        "boilerplate_removal",
        "language_filtering",
        "domain_filtering",
        "quality_assessment",
        "entity_preservation",
        "repetition_handling"
      ],
      "parallel_processing": false,
      "max_workers": 4,
      "batch_size": 100
    }
  },
  "ingestion": {
    "max_file_size_mb": 100,
    "batch_size": 10,
    "parallel_workers": 4,
    "skip_existing": true,
    "validate_output": true,
    "progress_reporting": true,
    "extractors": {
      "html": {
        "enabled": true,
        "remove_scripts": true,
        "remove_styles": true,
        "remove_navigation": true,
        "preserve_links": false,
        "min_text_length": 50
      },
      "epub": {
        "enabled": true,
        "extract_metadata": true,
        "preserve_chapters": true,
        "skip_images": true,
        "min_chapter_length": 100
      },
      "pdf": {
        "enabled": true,
        "use_ocr_fallback": true,
        "ocr_confidence_threshold": 60,
        "ocr_language": "eng",
        "extract_images": false,
        "preserve_layout": false
      },
      "markdown": {
        "enabled": true,
        "preserve_formatting": false,
        "extract_code_blocks": true,
        "preserve_tables": true,
        "remove_html_tags": true
      }
    }
  },
  "deduplication": {
    "enabled": true,
    "hash_deduplication": {
      "enabled": true,
      "normalize_whitespace": true,
      "normalize_case": true,
      "normalize_punctuation": true,
      "min_line_length": 10
    },
    "embedding_deduplication": {
      "enabled": true,
      "model_name": "all-MiniLM-L6-v2",
      "similarity_threshold": 0.85,
      "batch_size": 32,
      "max_documents": 10000,
      "cache_embeddings": true
    },
    "statistics": {
      "save_report": true,
      "detailed_logging": true,
      "progress_reporting": true
    }
  },
  "evaluation": {
    "batch_size": 4,
    "max_new_tokens": 100,
    "temperature": 0.8,
    "top_k": 50,
    "top_p": 0.9,
    "do_sample": true,
    "num_return_sequences": 3,
    "benchmark_iterations": 100,
    "perplexity_stride": 256
  },
  "logging": {
    "level": "INFO",
    "format": "{time:YYYY-MM-DD HH:mm:ss} | {level} | {name}:{function}:{line} - {message}",
    "rotation": "10 MB",
    "retention": "7 days",
    "compression": "gz",
    "colorize": true
  },
  "paths": {
    "data_dir": "data",
    "raw_data_dir": "data/raw",
    "cleaned_data_dir": "data/cleaned",
    "deduped_data_dir": "data/deduped",
    "tokenized_data_dir": "data/tokens",
    "finetune_data_dir": "data/finetune",
    "tokenizer_dir": "exports/tokenizer",
    "checkpoint_dir": "exports/checkpoints",
    "gguf_dir": "exports/gguf",
    "log_dir": "logs",
    "export_dir": "exports",
    "validation_dir": "validation_results",
    "monitoring_dir": "monitoring"
  },
  "export": {
    "gguf": {
      "enabled": true,
      "quantization_levels": [
        "f16",
        "q8_0",
        "q4_0"
      ],
      "validate_output": true,
      "compression": true,
      "metadata": {
        "include_training_stats": true,
        "include_model_info": true,
        "custom_fields": {}
      }
    },
    "pytorch": {
      "enabled": true,
      "save_optimizer_state": false,
      "save_scheduler_state": false,
      "compress": true
    },
    "onnx": {
      "enabled": false,
      "opset_version": 14,
      "optimize": true,
      "dynamic_axes": true
    },
    "model_cards": {
      "enabled": true,
      "template": "templates/model_card_template.md",
      "auto_generate": true,
      "include_metrics": true
    }
  },
  "device": {
    "use_cuda": true,
    "cuda_device": 0,
    "use_mps": false,
    "cpu_threads": 8,
    "enable_mkldnn": true,
    "mixed_precision": true,
    "fallback_to_cpu": true,
    "auto_detect_device": true
  },
  "optimization": {
    "optimizer": "adamw",
    "beta1": 0.9,
    "beta2": 0.999,
    "eps": 1e-08,
    "scheduler": "cosine",
    "min_lr": 1e-06,
    "compile_model": false,
    "use_fused_adamw": false
  }
}