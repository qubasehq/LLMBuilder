Copyright 2015, Simplilearn. All rights reserved. Domain 4: Trouble Shooting CompTIA Network + Exam Prep (N10-006) Copyright 2015, Simplilearn. All rights reserved. Copyright 2015, Simplilearn. All rights reserved. Lesson 4-6: Troubleshooting Common Network Issues Copyright 2015, Simplilearn. All rights reserved. After completing this lesson, you will be able to: • Discuss the likely symptoms of incorrect IP configuration. • Describe the probable effects of misconfigured DHCP or DNS. • Explain the problem of broadcast storms. • Discuss interface errors such as mismatched duplex or speed. • Describe a situation which can cause a problem with end-to-end connectivity. • List network discovery protocols. • Explain what is meant by NIC teaming misconfiguration. Objectives Copyright 2015, Simplilearn. All rights reserved. Basic IP Problems • Incorrect IP Configuration – if the IP address, Gateway, subnet mask, or DNS server configuration for a host is incorrect, they may find it impossible to communicate. This is easily checked via the network interface or ipconfig. • Link-Local – if the IP address is a link-local or APIPA address (e.g. 169.254.0.1 or similar), the device is not connected to a DHCP server or the server’s scope is exhausted. • Duplicate IP – two devices on the same subnet with the same IP may happen when one or both uses a static IP or when a DHCP server is reset. One or both devices will be unable to communicate until the situation is resolved. Copyright 2015, Simplilearn. All rights reserved. Misconfigured DHCP • Your DHCP server provides IP configuration settings to DHCP- enabled clients on the network. Common DHCP problems include: • DHCP misconfiguration – where the DHCP server is programmed to give out unusable subnet, DHCP, or gateway information. • Rogue DHCP – when a second DHCP server begins handling some DHCP requests on the network, often due to a rogue router. • Scope exhaustion – when the DHCP server has exhausted the available IP addresses in its designated scope. DHCP DHCP Copyright 2015, Simplilearn. All rights reserved. Misconfigured DNS • DNS issues can easily be tested with PING – if a device can PING to an IP address but cannot PING to a hostname, it indicates the IP network is OK but DNS name resolution is not working. Possible causes: • Manually set DNS server is incorrect. • DHCP-supplied DNS server is incorrect. • DNS server is not resolving properly. • Manually setting DNS to 8.8.8.8 and 8.8.4.4 (Google’s free public DNS servers) can be a good test. • Symptoms of misconfigured DNS: Unable to browse some or all websites, applications perform erratically when trying to access named servers or other resources. Copyright 2015, Simplilearn. All rights reserved. Broadcast Storms vs. Jabber • A broadcast storm is an overwhelming number of useless packets being sent through network infrastructure. • Can be caused by a switching loop (multiple routes between two or more switches, not port aggregation via LACP). • Network traffic will be extremely slow or unreliable until the storm is resolved. • Jabber is a network disturbance caused by a faulty NIC or switch/router port. • Jabber is usually an electrical disturbance, not legitimate network traffic, and is usually stopped at a switch port. Copyright 2015, Simplilearn. All rights reserved. Simultaneous Wired/Wireless Connections • It’s not uncommon for laptop (and some other) users to have both wired and wireless connections to the network. • This does not improve the speed of their connection since only one interface will be used for any particular session. • If the interfaces are configured (statically or dynamically) for different gateways or DNS servers, the user may experience random, sporadic differences in connections or even outages if one is configured improperly. Copyright 2015, Simplilearn. All rights reserved. Interface Errors: Speed, Duplex, and VLAN Misconfiguration • Connections to a switch or router are generally set to auto- sense the speed and duplex of the connecting device by default. • Manually configuring speed, duplex, and other interface settings can improve speed when auto-sense is incorrect, but may also lead to interface incompatibilities now or in the future. • Remember switch ports may be assigned to specific VLANs as well, so connecting devices intended for a different VLAN will cause connection problems or interface errors. Copyright 2015, Simplilearn. All rights reserved. End-to-End Connectivity • Connections may involve numerous intermediary devices – switches, bridges, routers, etc. • To maintain a given throughput ALL components must meet the minimum criteria. • Example: NIC – Category 5e cable – switch – Category 3 cable – switch – Category 5e cable – router • The Cat3 cable will limit the end-to-end throughput to 10Mbps • MTU black hole – when an intermediate router’s MTU (maximum transmit unit) is too small to accommodate packets sent by a previous router. • Firewall black hole – when a firewall is dropping packets intended for a specific address or network. • Missing IP routes – when a routing path attempts to use routes which do not exist. Copyright 2015, Simplilearn. All rights reserved. Network Discovery Issues • If you find you can ping or access network devices using their IP address, but cannot see or access them by their network name, a network discovery protocol is the most likely culprit. • Network discovery and naming protocols include: • NetBIOS – used by default on Windows computers, also available on other devices, uses a local cache or hosts file or a special broadcast to resolve names. • WINS – Windows Internet Name Service, a server-based database of local machine names • DNS – Domain Name Services, the protocol which resolves domain names on the Internet (and can be used internally as well) • Bonjour – protocol primarily used by Apple computers Copyright 2015, Simplilearn. All rights reserved. NIC Teaming Misconfiguration • NIC Teaming is a function to combine two or more Network Interfaces for the purposes of load- balancing or failover. • NIC Teams can be created as: • Active-active: Both NICs are active and being used • Active-passive: One NIC is active, the other is on standby in case the first NIC fails. • The NIC Team is either configured with a multicast address (packets are sent to all involved NICs – if they are joined to the multicast address) or a broadcast address (all NICs, including those not in the team, receive the packet). • NIC Teaming misconfiguration occurs when one or more NICs are not connected to the same network, or are not joined to the multicast address. Copyright 2015, Simplilearn. All rights reserved. Physical Issues • Cable Placement – running copper cables near EMI/RFI sources can degrade performance or cause sporadic communication issues. • Power failure/anomalies – power outages obviously affect all IT equipment, but special concerns with networks include: • Power sequencing issues – problems caused when certain network components’ power on are out of order (e.g. endpoints before DHCP server). • Power anomalies – if power levels fluctuate, it can cause network transmissions to become garbled or unstable. • Hardware failure – of course, hardware failure is a standard part of any IT project, including networks. Replacement components should be maintained to prevent a single point of failure. Copyright 2015, Simplilearn. All rights reserved. Quiz Copyright 2015, Simplilearn. All rights reserved. QUIZ a. b. c. d. Suddenly some computers on a network are unable to communicate because their IP address and gateway information does not match the rest of the network. What is the most likely cause? 1 Scope exhaustion Rogue DHCP Static IP misconfiguration Broadcast Storm Copyright 2015, Simplilearn. All rights reserved. QUIZ a. b. c. d. The correct answer is Suddenly some computers on a network are unable to communicate because their IP address and gateway information does not match the rest of the network. What is the most likely cause? 1 Scope exhaustion Rogue DHCP Static IP misconfiguration Broadcast Storm With a rogue DHCP server some clients will acquire DNS from the rogue AP while others acquire from the standard DHCP. b Copyright 2015, Simplilearn. All rights reserved. QUIZ a. b. c. d. A router connects two networks. What must be true of the networks in order for the router to function properly? 2 Must be on the same WAN Must be in the same collision domain. Must be in the same broadcast domain Must have distinctly different addressing schemes. Copyright 2015, Simplilearn. All rights reserved. QUIZ a. b. c. d. The correct answer is A router connects two networks. What must be true of the networks in order for the router to function properly? 2 Must be on the same WAN Must be in the same collision domain Must be in the same broadcast domain Must have distinctly different addressing schemes. Routers connect different networks -- each must have a different addressing scheme. d Copyright 2015, Simplilearn. All rights reserved. QUIZ a. b. c. d. An overwhelming number of useless packets being sent through network infrastructure is called _____________ . 3 Jabber MTU black hole Power anomalies Broadcast Storm Copyright 2015, Simplilearn. All rights reserved. QUIZ a. b. c. d. The correct answer is An overwhelming number of useless packets being sent through network infrastructure is called _____________ . 3 Jabber MTU black hole Power anomalies Broadcast Storm A broadcast storm is an overwhelming number of useless packets being sent through network infrastructure, often caused by a switching loop. d Copyright 2015, Simplilearn. All rights reserved. Here is a quick recap of what we have learned in this lesson. Summary • Incorrect IP Configuration – if the IP address, Gateway, subnet mask, or DNS server configuration for a host is incorrect, they may find it impossible to communicate. • DHCP misconfiguration is when a DHCP server is programmed to give out unusable subnet, DHCP, or gateway information. • Manually configuring speed, duplex, and other interface settings on a switch or router can improve speed when auto-sense is incorrect, but may also lead to interface incompatibilities now or in the future. • NIC Teaming misconfiguration occurs when one or more teamed NICs are not connected to the same network, or are not joined to the multicast address. Copyright 2015, Simplilearn. All rights reserved. Copyright 2015, Simplilearn. All rights reserved. The next lesson is ‘Troubleshooting Common Security Issues’. This concludes ‘Troubleshooting Common Network Issues’.