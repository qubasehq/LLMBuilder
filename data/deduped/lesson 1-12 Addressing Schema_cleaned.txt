Copyright 2015, Simplilearn. All rights reserved. Domain 1: Network Theory and Architecture CompTIA Network + Exam Prep (N10-006) Copyright 2015, Simplilearn. All rights reserved. Lesson 1-12: Addressing Schema Copyright 2015, Simplilearn. All rights reserved. After completing this lesson, you will be able to: Describe the structure of an IPv4 address. Explain the purpose of a subnet mask. Discuss how to create a subnet. Describe the difference between Classful and Classless addressing. Explain the role of private addresses in Network Address Translation (NAT). Identify the three components of an IPv6 address. Describe the difference between Stateful Configuration with DHCPv6 and Stateless Autoconfiguration (SLAAC). Objectives Copyright 2015, Simplilearn. All rights reserved. IP Addressing Copyright 2015, Simplilearn. All rights reserved. IPv4 • 32-bit number • Represented in four groups of 8 bits called octets • Expressed in four decimal numbers separated by dots (“dotted decimal”) 10.1.200.155 00001010 00000001 11001000 10011011 Copyright 2015, Simplilearn. All rights reserved. Subnet and Subnet Mask • Subdividing a large network into a subnetwork is called subnetting. • The subnet mask determines the scope of the subnet. 10.1.200.155 00001010 00000001 11001000 10011011 255.255.0.0 11111111 11111111 00000000 00000000 Copyright 2015, Simplilearn. All rights reserved. Network and Host Address • The Network Address is the portion of the IP address shared by all devices on the subnet. • The Host Address is the portion of the IP address unique to the host. IP Address 10.1.200.155 00001010 00000001 11001000 10011011 Subnet 255.255.0.0 11111111 11111111 00000000 00000000 Network 10.1.0.0 00001010 00000001 00000000 00000000 Host 0.0.200.155 0000000 00000000 11001000 10011011 Copyright 2015, Simplilearn. All rights reserved. Network and Host Address (contd.) • The Network Address is the portion of the IP address shared by all devices on the subnet. • The Host Address is the portion of the IP address unique to the host. IP Address 10.1.200.155 00001010 00000001 11001000 10011011 Subnet 255.255.192.0 11111111 11111111 11000000 00000000 Network 10.1.192.0 00001010 00000001 11000000 00000000 Host 0.0.8.155 0000000 00000000 00001000 10011011 Copyright 2015, Simplilearn. All rights reserved. Subnetworks • Network Address: 192.168.1.0 • Subnet Mask: 255.255.255.224 • 11111111.11111111.11111111.11100000 • Potential networks: 8 • Hosts per network: 30 • 32 minus the network/subnet address and broadcast address • Network address: first IP in each subnet • Broadcast Address: last IP in each subnet • First hosts: 192.168.1.1/33/65/97/129/161/193/225 • Example: First subnet is the range 192.168.1.0 through 192.168.1.31, with the network address of 192.168.1.0 and a broadcast address of 192.168.1.32 Copyright 2015, Simplilearn. All rights reserved. Simple Subnetworks • Network Address: 192.168.1.0 • Subnet Mask: 255.255.255.0 • 11111111.11111111.11111111.00000000 • Potential networks: 1 • Hosts per network: 254 • Network address: 192.168.1.0 • Broadcast Address: 192.168.1.255 • Hosts: 192.168.1.1 – 192.168.1.254 • “Class C” Copyright 2015, Simplilearn. All rights reserved. Class 1st Octet Subnet # of networks Class A 1-126 255.0.0.0 126 Class B 128-191 255.255.0.0 16,382 Class C 192-223 255.255.255.0 2.097,150 Class D 224-239 n/a n/a Class E 240-254 n/a n/a Classes • Class D: multicast • Class E: experimental, research • “Classful” addressing uses a Class A, B, or C address (discontinued) • “Classless” addressing does not use a standard Class • Discontinued in 1993 in favor of CIDR Copyright 2015, Simplilearn. All rights reserved. CIDR • Classless Inter-Domain Routing (CIDR) • Replaces Classful addressing for public IPs • More efficient: • Class A address (e.g. 100.x.x.x) reserves 16.5 million addresses. • No way to redistribute unused addresses to other networks. • CIDR provides more granular address distribution. Copyright 2015, Simplilearn. All rights reserved. CIDR Notation • A CIDR address looks like: • The subnet mask number indicates the number of bits in the subnet mask, in this case: • So 86.1.1.200/24 is a subnet ranging from 86.1.1.1 through 86.1.1.255 • More common: /33 subnet from an ISP, providing 8 public IP addresses 86.1.1.1/24 Network Address / Subnet Mask /24 = 11111111.11111111.11111111.00000000 = 255.255.255.0 Copyright 2015, Simplilearn. All rights reserved. Private Addresses • CIDR helps to conserve the shrinking pool of public IPv4 addresses. • 4.3 billion IPv4 public IP addresses available • 7 billion people • IPv4 Address Exhaustion • Two Solutions: • IPv6 • NAT – Network Address Translation • The Plan: • Let companies use private addresses spaces inside their networks for any devices which need not be accessible from the Internet. • Map communication from those devices onto shared public addresses when communicating outside the network. Copyright 2015, Simplilearn. All rights reserved. NAT and PAT Network Address Translation (NAT): • Uses designated Private Address Spaces including: • 10.x.x.x • 172.16.0.0-172.31.255.255 • 192.168.x.x • Non-routing • IP Packets are translated at the edge router • Static NAT maps each private IP to a designated IP • Dynamic NAT maps each private IP to one public IP in an available pool Port Address Translation (PAT) uses port designators to map all private IP addresses onto one shared public IP • Source & and destination port info is retained Copyright 2015, Simplilearn. All rights reserved. Next Generation – IPv6 Goals with IPv6: • More addresses (4.3bn -> 340k million million million million) • More efficient (less need for CIDN, easier routing, easier roaming) • More secure 340,282,366,920,938,463,463,374,607,431,768,211,456 – that’s the potential address space of IPv6! ! Copyright 2015, Simplilearn. All rights reserved. IPv6 • 128-bit number (up from 32) • Represented in eight 16-bit blocks • Expressed in hexadecimal with colons between each group 2001:a01f:0021:d3d4:0000:0000:001a:002a Copyright 2015, Simplilearn. All rights reserved. IPv6 Address Compression / Shortening • Drop leading zeroes 2001:a01f:0021:d3d4:0000:0000:001a:002a 2001:a01f:21:d3d4:0:0:1a:2a • Compress one set of all-zero blocks to a double-colon 2001:a01f:21:d3d4::1a:2a • Note: If there are more than one set of all-zeroes, only the first can be removed. Copyright 2015, Simplilearn. All rights reserved. IPv6 Address Structure 2001:a01f:0021:d3d4:0000:0000:001a:002a routing prefix (48) } } } subnet (16) interface identifier (64) • Used for Unicast and Anycast addressing • Routing prefix can be up to 64 bits, taking space from the subnet • For link-local addresses the routing + subnet consists of 1111111010 followed by 54 zeroes • The routing prefix + the subnet is called the Network Prefix Copyright 2015, Simplilearn. All rights reserved. Unicast, Multicast, Anycast, Broadcast • IPv4 supports three types of transmissions: • Unicast – packets sent from one host to another specific host • Multicast – packets sent from one host to a group of designated hosts • Broadcast – packets sent from one host to all other hosts within the broadcast domain • IPv6 does not have Broadcast, replacing those functions with Multicast. But IPv6 adds: • Anycast – packets are sent from one host to the nearest host in the designated anycast group. • IPv6 allows multiple addresses per interface Copyright 2015, Simplilearn. All rights reserved. APIPA (IPv4) • What happens if there’s no static IP information set, AND no DHCP? • On Windows devices, Automatic Private IP Addressing (APIPA) auto-configures the IP settings. • Starts at 169.254.0.1, up to 169.254.255.254 (IPv4) • Uses ARP to verify IP is unassigned elsewhere. • Also called link-local addressing Copyright 2015, Simplilearn. All rights reserved. Auto-configuration (IPv6) • IPv6 interfaces can configure their own addresses, similar to link-local on IPv4. • Called Stateless Autoconfiguration (SLAAC) • Using Neighbor Discovery Protocol (similar to ARP) to retrieve the network prefix • Using modified EUI-64 to derive an interface ID from its own MAC address • Modified EUI-64: • Start with a MAC address (48 bits) • Add FF:FE in the middle (now 64 bits) • Invert the 7th bit (Universal/Local bit) Copyright 2015, Simplilearn. All rights reserved. Auto-configuration (IPv6) (contd.) • Example: • MAC Address aa12:4dfc:4545 • Add FF:FE to get aa12:4dff:fefc:4545 • Invert the 7th bit: a812:4dff:fefc:4545 • Most common first 32 bits is “00”, which inverted is “02” Inverting the 7th bit: a (hex) = 1010 aa = 101010110 Inverted 10101000 10101000 = a8 (hex) Copyright 2015, Simplilearn. All rights reserved. DHCPv6 • Does Autoconfiguration mean no more DHCP? • DHCPv6 provides: • DNS settings • Gateway settings • Optional: IP Address • “Stateful Configuration” – DHCPv6 provides the IP address • “Stateless Autoconfiguration” (SLAAC) – DHCP lets the device keep the IP from autoconfiguration Copyright 2015, Simplilearn. All rights reserved. Co-existing, IPv4 and IPv6 • IPv4 and IPv6 are NOT compatible (cannot talk to each other) • They *can* co-exist on the same network through: • Dual-stack: routers and other devices on the network use both IPv4 and IPv6 separately • Tunneling: IPv6 is encapsulated in IPv4 packets for transmission across an IPv4 LAN or WAN (6to4 tunneling) • 4to6 tunneling would carry IPv4 packets across an IPv6 network • Tunneling will break if NAT is involved. Teredo and Miredo are solutions to encapsulate IPv6 packet in UDP datagrams to traverse NAT segments • NAT-PT: Network Address Translation – Protocol Translation, translates IPv6 to IPv4 like NAT, but has issues Copyright 2015, Simplilearn. All rights reserved. Quiz Copyright 2015, Simplilearn. All rights reserved. QUIZ a. b. c. d. The subnet mask determines: 1 the scope of the subnet the port assignment of the subnet the number of servers on the subnet the address of the subnet's gateway Copyright 2015, Simplilearn. All rights reserved. QUIZ The correct answer is a. b. c. d. The subnet mask determines: The subnet mask determines the scope of the subnet. a. the scope of the subnet the port assignment of the subnet the number of servers on the subnet the address of the subnet's gateway 1 Copyright 2015, Simplilearn. All rights reserved. QUIZ a. b. c. d. What is the subnet mask of a Class B network? 2 192.168.1.x 0.0.0.b 255.128.0.0 255.255.0.0 Copyright 2015, Simplilearn. All rights reserved. QUIZ The correct answer is a. b. c. d. What is the subnet mask of a Class B network? Class B networks have a subnet mask of 255.255.0.0 d. 192.168.1.x 0.0.0.b 255.128.0.0 255.255.0.0 2 Copyright 2015, Simplilearn. All rights reserved. QUIZ a. b. c. d. Which type of transmission is NOT part of IPv6? 3 unicast anycast broadcast multicast Copyright 2015, Simplilearn. All rights reserved. QUIZ The correct answer is a. b. c. d. Which type of transmission is NOT part of IPv6? IPv6 networking does not include broadcast transmissions, replacing those functions with multicast. c. unicast anycast broadcast multicast 3 Copyright 2015, Simplilearn. All rights reserved. Here is a quick recap of what we have learned in this lesson. Summary • Subdividing a large network into a subnetwork is called subnetting. • The Host Address is the portion of the IP address unique to the host. • Class C addresses started with 192 through 223 in the first octet, with a subnet mask of 255.255.255.0. • CIDR stands for Classless Inter-Domain Routing which replaced Classful addressing for public IPs. • Port Address Translation (PAT) is a form of Network Address Translation (NAT) which uses port designators to map all private IP addresses onto one shared public IP. • Stateless Autoconfiguration (SLAAC) allows IPv6 hosts to configure its own IP address using Neighbor Discovery Protocol and a modified EUI-64 version of its MAC address. Copyright 2015, Simplilearn. All rights reserved. Copyright 2015, Simplilearn. All rights reserved. The next lesson is ‘Routing Concepts’. This concludes ‘Addressing Schema’.